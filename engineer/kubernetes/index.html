<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"eric999j.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="Hi Spring Boot。">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot on Kubernetes">
<meta property="og:url" content="https://eric999j.github.io/engineer/kubernetes/index.html">
<meta property="og:site_name" content="Lunski&#39;s Clutter">
<meta property="og:description" content="Hi Spring Boot。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://raw.githubusercontent.com/eric999j/Clutter/master/blog/2020-10-04.jpeg">
<meta property="og:image" content="https://i.imgur.com/09385GZ.jpg">
<meta property="og:image" content="https://i.imgur.com/UzFOpS0.png">
<meta property="og:image" content="https://i.imgur.com/EvZMCbs.png">
<meta property="article:published_time" content="2023-02-19T07:30:00.000Z">
<meta property="article:modified_time" content="2024-07-24T06:16:07.770Z">
<meta property="article:author" content="lunski">
<meta property="article:tag" content="好用">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/eric999j/Clutter/master/blog/2020-10-04.jpeg">

<link rel="canonical" href="https://eric999j.github.io/engineer/kubernetes/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-tw'
  };
</script>

  <title>Spring Boot on Kubernetes | Lunski's Clutter</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-179395953-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-179395953-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Lunski's Clutter" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Lunski's Clutter</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">This is a place to put my clutters, no matter you like it or not, welcome here.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw">
    <link itemprop="mainEntityOfPage" href="https://eric999j.github.io/engineer/kubernetes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/lunski.png">
      <meta itemprop="name" content="lunski">
      <meta itemprop="description" content="あ、どうもはじめまして。盧です。どうぞよろしくお願いします。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lunski's Clutter">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Spring Boot on Kubernetes
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-19 15:30:00" itemprop="dateCreated datePublished" datetime="2023-02-19T15:30:00+08:00">2023-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-07-24 14:16:07" itemprop="dateModified" datetime="2024-07-24T14:16:07+08:00">2024-07-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/engineer/" itemprop="url" rel="index"><span itemprop="name">工程</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>14k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>12 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="https://raw.githubusercontent.com/eric999j/Clutter/master/blog/2020-10-04.jpeg"></p>
<p>Hi Spring Boot。</p>
<a id="more"></a>

<p>Spring mvc &gt; Spring Boot<br>Tensorflow &gt; Keras  </p>
<h1 id="O"><a href="#O" class="headerlink" title="O"></a>O</h1><p>Docker 與 Kubernetes。</p>
<h1 id="KRs"><a href="#KRs" class="headerlink" title="KRs"></a>KRs</h1><ol>
<li><a href="https://eric999j.github.io/engineer/spring/">Spring Boot</a> 100%  </li>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/u/lunski">建置Spring Boot在Docker Image</a> 100%</li>
<li><a href="https://eric999j.github.io/engineer/kubernetes">部署Spring Boot 應用在Kubernetes</a> 100%</li>
<li><a href="https://eric999j.github.io/engineer/kubernetes">部署Spring Boot 微服務專案在Kubernetes</a> 80%</li>
</ol>
<h1 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ java -version</span><br><span class="line">openjdk version &quot;19.0.1&quot; 2022-10-18</span><br><span class="line">OpenJDK Runtime Environment (build 19.0.1+10-21)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)</span><br><span class="line"></span><br><span class="line">$ javac -version # JDK</span><br><span class="line">javac 19.0.1</span><br><span class="line"></span><br><span class="line">$ ~&#x2F;apache-maven-3.9.0&#x2F;bin&#x2F;mvn -v</span><br><span class="line">Apache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)</span><br><span class="line">Maven home: &#x2F;Users&#x2F;eka&#x2F;apache-maven-3.9.0</span><br><span class="line">Java version: 19.0.1, vendor: Oracle Corporation, runtime: &#x2F;Users&#x2F;eka&#x2F;Library&#x2F;Java&#x2F;JavaVirtualMachines&#x2F;openjdk-19.0.1&#x2F;Contents&#x2F;Home</span><br><span class="line">Default locale: zh_TW_#Hant, platform encoding: UTF-8</span><br><span class="line">OS name: &quot;mac os x&quot;, version: &quot;13.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;</span><br><span class="line"></span><br><span class="line">$ docker -v</span><br><span class="line">Docker version 20.10.22, build 3a2c30b</span><br></pre></td></tr></table></figure>

<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><p><img src="https://i.imgur.com/09385GZ.jpg" alt="img"> </p>
<p>Docker是著名的CD工具，建置在作業系統上，優勢：快速管理，遷移，擴展 </p>
<h2 id="Path-in-Project"><a href="#Path-in-Project" class="headerlink" title="Path in Project"></a>Path in Project</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Jar: ..&#x2F;..&#x2F;..&#x2F;target&#x2F;spring5webapp-0.0.1-SNAPSHOT.jar  </span><br><span class="line">DockerFile: src&gt;main&gt;dockerBase&gt;DockerFile  </span><br></pre></td></tr></table></figure>

<h2 id="DockerFile"><a href="#DockerFile" class="headerlink" title="DockerFile"></a>DockerFile</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FROM openjdk:19-jdk-alpine</span><br><span class="line">ENV JAVA_OPTS &quot;-Xmx512m -Xms512m&quot;</span><br><span class="line">WORKDIR application</span><br><span class="line">COPY ..&#x2F;..&#x2F;..&#x2F;target&#x2F;spring5webapp-0.0.1-SNAPSHOT.jar .&#x2F;</span><br><span class="line">ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;spring5webapp-0.0.1-SNAPSHOT.jar&quot;]</span><br></pre></td></tr></table></figure>

<h2 id="Bulid-amp-Push-to-DockerHub"><a href="#Bulid-amp-Push-to-DockerHub" class="headerlink" title="Bulid &amp; Push to DockerHub"></a>Bulid &amp; Push to DockerHub</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">到專案目錄的DockerFile</span><br><span class="line"></span><br><span class="line">$ docker build -f .&#x2F;src&#x2F;main&#x2F;dockerBase&#x2F;DockerFile -t docker-test .</span><br><span class="line"></span><br><span class="line">$ docker run -p 8080:8080 docker-test </span><br><span class="line"></span><br><span class="line">$   docker ps</span><br><span class="line">CONTAINER ID   IMAGE         COMMAND                  CREATED          STATUS          PORTS     NAMES</span><br><span class="line">745159676ccd   docker-test   &quot;java -jar spring5we…&quot;   30 seconds ago   Up 28 seconds             stoic_mendeleev</span><br><span class="line"></span><br><span class="line">$ docker logs 745159676ccd</span><br><span class="line">2023-02-18 09:19:38.674  INFO 1 --- [           main] g.s.s.Spring5webappApplication           : Starting Spring5webappApplication v0.0.1-SNAPSHOT on 47d036941a06 with PID 1 (&#x2F;application&#x2F;spring5webapp-0.0.1-SNAPSHOT.jar started by root in &#x2F;application)</span><br><span class="line">2023-02-18 09:19:38.681  INFO 1 --- [           main] g.s.s.Spring5webappApplication           : No active profile set, falling back to default profiles: default</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">$ docker login</span><br><span class="line"></span><br><span class="line">$ docker tag docker-test lunski&#x2F;docker-test:latest</span><br><span class="line"></span><br><span class="line">$ docker push lunski&#x2F;docker-test:latest</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Docker-compose"><a href="#Docker-compose" class="headerlink" title="Docker-compose"></a><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10194183">Docker-compose</a></h2><p>啟動的過程中，產生新的image再啟動多個 Docker Container</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"># 啟動</span><br><span class="line">$ docker compose -f compose-local.yaml up -d</span><br><span class="line"></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE                                                  COMMAND                  CREATED         STATUS         PORTS                                                                                                 NAMES</span><br><span class="line">939e5b6d5069   springframeworkguru&#x2F;kbe-brewery-gateway                &quot;java -Djava.securit…&quot;   7 minutes ago   Up 5 minutes   8080&#x2F;tcp, 0.0.0.0:9090-&gt;9090&#x2F;tcp                                                                      kbe-sb-microservices-gateway-1</span><br><span class="line">8e83a8ebfcce   springframeworkguru&#x2F;kbe-brewery-order-service          &quot;java -Djava.securit…&quot;   7 minutes ago   Up 5 minutes   8080&#x2F;tcp, 0.0.0.0:8081-&gt;8081&#x2F;tcp                                                                      kbe-sb-microservices-order-service-1</span><br><span class="line">397a3aa28db5   springframeworkguru&#x2F;kbe-brewery-beer-service           &quot;java -Djava.securit…&quot;   7 minutes ago   Up 5 minutes   0.0.0.0:8080-&gt;8080&#x2F;tcp                                                                                kbe-sb-microservices-beer-service-1</span><br><span class="line">c0fd84ac07cc   springframeworkguru&#x2F;kbe-brewery-inventory-service      &quot;java -Djava.securit…&quot;   7 minutes ago   Up 5 minutes   8080&#x2F;tcp, 0.0.0.0:8082-&gt;8082&#x2F;tcp                                                                      kbe-sb-microservices-inventory-service-1</span><br><span class="line">fe888556718e   docker.elastic.co&#x2F;kibana&#x2F;kibana:7.12.1                 &quot;&#x2F;bin&#x2F;tini -- &#x2F;usr&#x2F;l…&quot;   7 minutes ago   Up 5 minutes   0.0.0.0:5601-&gt;5601&#x2F;tcp                                                                                kbe-sb-microservices-kibana-1</span><br><span class="line">63c580abe7df   docker.elastic.co&#x2F;beats&#x2F;filebeat:7.12.1                &quot;&#x2F;usr&#x2F;bin&#x2F;tini -- &#x2F;u…&quot;   7 minutes ago   Up 6 minutes                                                                                                         kbe-sb-microservices-filebeat-1</span><br><span class="line">114892532cef   docker.elastic.co&#x2F;elasticsearch&#x2F;elasticsearch:7.12.1   &quot;&#x2F;bin&#x2F;tini -- &#x2F;usr&#x2F;l…&quot;   7 minutes ago   Up 6 minutes   0.0.0.0:9200-&gt;9200&#x2F;tcp, 9300&#x2F;tcp                                                                      kbe-sb-microservices-elasticsearch-1</span><br><span class="line">8c82873f197f   mysql:5.7                                              &quot;docker-entrypoint.s…&quot;   7 minutes ago   Up 6 minutes   3306&#x2F;tcp, 33060&#x2F;tcp                                                                                   kbe-sb-microservices-mysql-1</span><br><span class="line">30b5d87f882f   springframeworkguru&#x2F;kbe-brewery-inventory-failover     &quot;java -Djava.securit…&quot;   7 minutes ago   Up 6 minutes   8080&#x2F;tcp, 0.0.0.0:8083-&gt;8083&#x2F;tcp                                                                      kbe-sb-microservices-inventory-failover-1</span><br><span class="line">4710a51dcdd9   vromero&#x2F;activemq-artemis                               &quot;&#x2F;docker-entrypoint.…&quot;   7 minutes ago   Up 6 minutes   1883&#x2F;tcp, 5445&#x2F;tcp, 5672&#x2F;tcp, 9404&#x2F;tcp, 0.0.0.0:8161-&gt;8161&#x2F;tcp, 61613&#x2F;tcp, 0.0.0.0:61616-&gt;61616&#x2F;tcp   kbe-sb-microservices-jms-1</span><br><span class="line"></span><br><span class="line"># 終止</span><br><span class="line">$ docker compose -f compose-local.yaml down</span><br><span class="line">[+] Running 8&#x2F;9</span><br><span class="line"> ⠿ Container kbe-sb-microservices-filebeat-1            Removed                                                                57.2s</span><br><span class="line"> ⠿ Container kbe-sb-microservices-kibana-1              Removed                                                                63.7s</span><br><span class="line"> ⠿ Container kbe-sb-microservices-mysql-1               Removed                                                                57.2s</span><br><span class="line"> ⠿ Container kbe-sb-microservices-gateway-1             Removed                                                                57.8s</span><br><span class="line"> ⠿ Container kbe-sb-microservices-inventory-failover-1  Removed                                                                24.4s</span><br><span class="line"> ⠿ Container kbe-sb-microservices-order-service-1       Removed                                                                25.2s</span><br><span class="line"> ⠿ Container kbe-sb-microservices-elasticsearch-1       Removed                                                                19.6s</span><br><span class="line"> ⠿ Container kbe-sb-microservices-beer-service-1        Removed                                                                20.7s</span><br><span class="line"> ⠿ Container kbe-sb-microservices-inventory-service-1   Error while Sto...                                                     22.8s</span><br><span class="line">Error response from daemon: cannot stop container: c0fd84ac07ccc32040510f0bfb6ecb25a6f36cc75674d76f55015211dc3bf3a4: container c0fd84ac07cc PID 37030 is zombie and can not be killed. Use the --init option when creating containers to run an init inside the container that forwards signals and reaps processes</span><br><span class="line"></span><br><span class="line">$  docker ps</span><br><span class="line">CONTAINER ID   IMAGE                      COMMAND                  CREATED          STATUS          PORTS                                                                                                 NAMES</span><br><span class="line">4710a51dcdd9   vromero&#x2F;activemq-artemis   &quot;&#x2F;docker-entrypoint.…&quot;   35 minutes ago   Up 34 minutes   1883&#x2F;tcp, 5445&#x2F;tcp, 5672&#x2F;tcp, 9404&#x2F;tcp, 0.0.0.0:8161-&gt;8161&#x2F;tcp, 61613&#x2F;tcp, 0.0.0.0:61616-&gt;61616&#x2F;tcp   kbe-sb-microservices-jms-1</span><br><span class="line"></span><br><span class="line">$ docker stop 4710a51dcdd9</span><br><span class="line">4710a51dcdd9</span><br><span class="line"></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Command"><a href="#Command" class="headerlink" title="Command"></a>Command</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">docker-compose 常用指令</span><br><span class="line">(一次全部 services 一起執行)</span><br><span class="line"></span><br><span class="line">docker-compose up</span><br><span class="line">docker-compose up -d       (在背後執行)</span><br><span class="line">docker-compose up --build  (Dockerfile 重新 build)</span><br><span class="line">docker-compose down</span><br><span class="line">docker-compose down -v     (連 volume 一起刪除)</span><br><span class="line">docker-compose ps          (看目前所有 services 狀態)</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">(僅用於單一 serivce)</span><br><span class="line"></span><br><span class="line">docker-compose start</span><br><span class="line">docker-compose stop</span><br><span class="line">docker-compose pause</span><br><span class="line">docker-compose unpause</span><br><span class="line">docker-compose logs -f     (看該 service 的 logs)</span><br></pre></td></tr></table></figure>

<h2 id="Podman-v-s-Docker"><a href="#Podman-v-s-Docker" class="headerlink" title="Podman v.s. Docker"></a>Podman v.s. Docker</h2><ul>
<li><p>Architecture: Docker requires a daemon process that runs with root privileges. Podman does not require a daemon and the podman commands are run as a regular user. This removes the need for root privileges that Docker requires.</p>
</li>
<li><p>Image registry: Docker uses a centralized image registry/repository by default. Podman can use any OCI compliant registry, including Docker’s registry as well as decentralized registries.</p>
</li>
<li><p>Container engine: Docker uses its own APIs and CLI. Podman is compliant with OCI (Open Container Initiative) specs and can use any OCI compliant container engine. This makes it more compatible with Kubernetes.</p>
</li>
<li><p>Rootless containers: Podman can run rootless containers without requiring root access. This improves security. Docker now allows rootless containers as well, but the setup is more complex compared to Podman.</p>
</li>
<li><p>Networking: Docker has its own networking stack. Podman uses CNI plugins for networking. This makes it easier for Podman to leverage Kubernetes networking.</p>
</li>
<li><p>Storage drivers: Docker has its own storage driver architecture. Podman builds on top of existing solutions like device mapper, overlayfs, VFS, etc. This allows more flexibility in leveraging existing tools.</p>
</li>
</ul>
<p>Podman is more secure, compatible and flexible.<br>Docker is more popular and widely-used in production.</p>
<h1 id="Kubernetes-K8S"><a href="#Kubernetes-K8S" class="headerlink" title="Kubernetes(K8S)"></a><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10192401">Kubernetes(K8S)</a></h1><p>基於容器技術的開源平臺，用於自動部署、維護和縮放容器化的應用程序。</p>
<p><img src="https://i.imgur.com/UzFOpS0.png" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://shell.cloud.google.com/">kubectl</a></p>
<h2 id="Check-status"><a href="#Check-status" class="headerlink" title="Check status"></a>Check status</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl config get-contexts</span><br><span class="line">CURRENT   NAME             CLUSTER          AUTHINFO         NAMESPACE</span><br><span class="line">*         docker-desktop   docker-desktop   docker-desktop</span><br><span class="line"></span><br><span class="line">$ kubectl config use-context docker-desktop</span><br><span class="line">Switched to context &quot;docker-desktop&quot;</span><br><span class="line"></span><br><span class="line">$ kubectl get nodes</span><br><span class="line">NAME             STATUS   ROLES           AGE   VERSION</span><br><span class="line">docker-desktop   Ready    control-plane   10d   v1.25.4</span><br><span class="line"></span><br><span class="line">$ kubectl get all</span><br><span class="line">NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE</span><br><span class="line">service&#x2F;kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443&#x2F;TCP   10d</span><br></pre></td></tr></table></figure>

<h2 id="Deployment-amp-Service"><a href="#Deployment-amp-Service" class="headerlink" title="Deployment &amp; Service"></a>Deployment &amp; Service</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create deployment kbe-test --image &#x2F;Users&#x2F;eka&#x2F;Desktop&#x2F;git&#x2F;spring5webapp --dry-run&#x3D;client -o&#x3D;yaml &gt; deployment.yml</span><br><span class="line"></span><br><span class="line"># 注意image欄位必須與docker hub一致</span><br><span class="line">- image: lunski&#x2F;docker-test </span><br><span class="line">   name: docker-test</span><br><span class="line">   resources: &#123;&#125;</span><br><span class="line">   env: # 環境設定&lt;視情況添加以下段落&gt;</span><br><span class="line">   - name: var1 # 自訂參數</span><br><span class="line">     value: &quot;info&quot;</span><br><span class="line">     # 健康監控</span><br><span class="line">   - name: MANAGEMENT_ENDPOINT_HEALTH_PROBES_ENABLED</span><br><span class="line">     value: &quot;true&quot;</span><br><span class="line">   - name: MANAGEMENT_HEALTH_READINESSTATE_ENABLED</span><br><span class="line">     value: &quot;true&quot;   </span><br><span class="line">   - name: MANAGEMENT_HEALTH_LIVENESSSTATE_ENABLED</span><br><span class="line">     value: &quot;true&quot;</span><br><span class="line">   - name: SERVER_SHUTDOWN</span><br><span class="line">     value: &quot;graceful&quot; # 等到所有程序結束才關機</span><br><span class="line">   lifecycle:</span><br><span class="line">       preStop:</span><br><span class="line">           exec:</span><br><span class="line">               command: [&quot;sh&quot;, &quot;-c&quot;, &quot;sleep 10&quot;]</span><br><span class="line">   livenessProbe:</span><br><span class="line">      httpGet:</span><br><span class="line">          port: 8080</span><br><span class="line">          path: &#x2F;actuator&#x2F;health&#x2F;livenes   </span><br><span class="line">   readinessProbe:</span><br><span class="line">      httpGet:</span><br><span class="line">          port: 8080</span><br><span class="line">          path: &#x2F;actuator&#x2F;health&#x2F;readines</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f deployment.yml</span><br><span class="line">deployment.apps&#x2F;kbe-test created</span><br><span class="line"></span><br><span class="line">$ kubectl create service clusterip kbe-test --tcp&#x3D;8080:8080 --dry-run&#x3D;client -</span><br><span class="line">o&#x3D;yaml &gt;&gt; service.yml</span><br><span class="line"></span><br><span class="line">如果type: NodePort，打API時要帶port</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f service.yml</span><br><span class="line">service&#x2F;kbe-test created</span><br></pre></td></tr></table></figure>

<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><ul>
<li>Inventory Service</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create deployment inventory-service --image springframeworkguru&#x2F;kbe-brewery-inventory-service --dry-run&#x3D;client -o&#x3D;yaml &gt; inventory-deployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f inventory-deployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl create service clusterip inventory-service --tcp&#x3D;8082:8082 --dry-run&#x3D;client -o&#x3D;yaml &gt; inventory-service.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f inventory-service.yml</span><br></pre></td></tr></table></figure>

<ul>
<li>Inventory Failover Service</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create deployment inventory-failover --image springframeworkguru&#x2F;kbe-brewery-inventory-failover --dry-run&#x3D;client -o&#x3D;yaml &gt; inventory-failover-deployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f inventory-failover-deployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl create service clusterip inventory-service --tcp&#x3D;8083:8083 --dry-run&#x3D;client -o&#x3D;yaml &gt; inventory-failover-service.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f inventory-failover-service.yml</span><br></pre></td></tr></table></figure>

<ul>
<li>Beer Service</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create deployment beer-service --image springframeworkguru&#x2F;kbe-beer-service --dry-run&#x3D;client -o&#x3D;yaml &gt; beer-service-deployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f beer-service-deployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl create service clusterip beer-service  --tcp&#x3D;8080:8080 --dry-run&#x3D;client -o&#x3D;yaml &gt; beer-service.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f beer-service.yml</span><br></pre></td></tr></table></figure>

<ul>
<li>Order Service</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create deployment order-service --image springframeworkguru&#x2F;kbe-brewery-order-service --dry-run&#x3D;client -o&#x3D;yaml &gt; order-service-deployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f order-service-deployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl create service clusterip order-service  --tcp&#x3D;8081:8081--dry-run&#x3D;client -o&#x3D;yaml &gt; order-service.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f order-service.yml</span><br></pre></td></tr></table></figure>

<h3 id="Check-services-status"><a href="#Check-services-status" class="headerlink" title="Check services status"></a>Check services status</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get all</span><br><span class="line">NAME                            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod&#x2F;kbe-test-66bc4c5859-ctcq6   1&#x2F;1     Running   0          53s</span><br><span class="line"></span><br><span class="line">NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE</span><br><span class="line">service&#x2F;kbe-test     ClusterIP   10.97.167.213   &lt;none&gt;        8080&#x2F;TCP   21h</span><br><span class="line">service&#x2F;kubernetes   ClusterIP   10.96.0.1       &lt;none&gt;        443&#x2F;TCP    10d</span><br><span class="line"></span><br><span class="line">NAME                       READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">deployment.apps&#x2F;kbe-test   1&#x2F;1     1            1           22h</span><br><span class="line"></span><br><span class="line">NAME                                  DESIRED   CURRENT   READY   AGE</span><br><span class="line">replicaset.apps&#x2F;kbe-test-559cc4776d   0         0         0       22h</span><br><span class="line">replicaset.apps&#x2F;kbe-test-66bc4c5859   1         1         1       54s</span><br><span class="line"></span><br><span class="line">$ kubectl logs --tail&#x3D;20 kbe-test-66bc4c5859-ctcq6</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE                COMMAND                  CREATED         STATUS         PORTS     NAMES</span><br><span class="line">b2006f0bcc16   lunski&#x2F;docker-test   &quot;java -jar spring5we…&quot;   2 minutes ago   Up 2 minutes             k8s_docker-test_kbe-test-66bc4c5859-ctcq6_default_44e1d282-ea5b-4809-89d0-9995139b80ba_0</span><br></pre></td></tr></table></figure>

<h2 id="Port-Forwarding"><a href="#Port-Forwarding" class="headerlink" title="Port Forwarding"></a>Port Forwarding</h2><p>forward local ip 192.168.0.139 to cluster-ip 10.97.167.213</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ipconfig getifaddr en0</span><br><span class="line">192.168.0.139</span><br><span class="line"></span><br><span class="line">$ kubectl port-forward service&#x2F;kbe-test 8080:8080</span><br><span class="line">Forwarding from 127.0.0.1:8080 -&gt; 8080</span><br><span class="line">Forwarding from [::1]:8080 -&gt; 8080</span><br></pre></td></tr></table></figure>

<h2 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl delete service kbe-test</span><br><span class="line">service &quot;kbe-test&quot; deleted</span><br><span class="line"></span><br><span class="line">$ kubectl delete deployment kbe-test</span><br><span class="line">deployment.apps &quot;kbe-test&quot; deleted</span><br></pre></td></tr></table></figure>

<h2 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create deployment mysql --image&#x3D;mysql:5.7 --dry-run&#x3D;client -o&#x3D;yaml &gt; mysql-deployment.ym</span><br><span class="line">l</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f mysql-deployment.yml</span><br><span class="line">deployment.apps&#x2F;mysql created</span><br><span class="line"></span><br><span class="line">$ kubectl create service clusterip mysql --tcp&#x3D;3306:3306 --dry-run&#x3D;client -o&#x3D;yaml &gt; mysql-service.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f mysql-service.yml</span><br><span class="line">service&#x2F;mysql created</span><br><span class="line"></span><br><span class="line">$ kubectl get all</span><br><span class="line">NAME                         READY   STATUS             RESTARTS        AGE</span><br><span class="line">pod&#x2F;mysql-74bd96b965-6qs4w   0&#x2F;1     CrashLoopBackOff   6 (2m20s ago)   8m10s</span><br><span class="line"></span><br><span class="line">NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE</span><br><span class="line">service&#x2F;kubernetes   ClusterIP   10.96.0.1       &lt;none&gt;        443&#x2F;TCP    16d</span><br><span class="line">service&#x2F;mysql        ClusterIP   10.100.88.211   &lt;none&gt;        3306&#x2F;TCP   78s</span><br><span class="line"></span><br><span class="line">NAME                    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">deployment.apps&#x2F;mysql   0&#x2F;1     1            0           8m10s</span><br><span class="line"></span><br><span class="line">NAME                               DESIRED   CURRENT   READY   AGE</span><br><span class="line">replicaset.apps&#x2F;mysql-74bd96b965   1         1         0       8m10s</span><br></pre></td></tr></table></figure>

<h2 id="JMS"><a href="#JMS" class="headerlink" title="JMS"></a>JMS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create deployment jms --image&#x3D;vromero&#x2F;activemq-artemis --dry-run&#x3D;client -o&#x3D;yaml &gt; jms-de</span><br><span class="line">ployment.yml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f jms-deployment.yml</span><br><span class="line">deployment.apps&#x2F;jms created</span><br><span class="line"></span><br><span class="line">$  kubectl create service clusterip jms --tcp&#x3D;8161:8161 --tcp&#x3D;6161:6161 --dry-run&#x3D;client -o&#x3D;yaml &gt; jms-service.yml</span><br><span class="line"></span><br><span class="line">$  kubectl apply -f jms-service.yml</span><br><span class="line">service&#x2F;jms created</span><br><span class="line"></span><br><span class="line">$ kubectl get all</span><br><span class="line"> kubectl get all</span><br><span class="line">NAME                         READY   STATUS             RESTARTS        AGE</span><br><span class="line">pod&#x2F;jms-5cd9686f76-vjrl2     1&#x2F;1     Running            0               7m37s</span><br><span class="line">pod&#x2F;mysql-74bd96b965-6qs4w   0&#x2F;1     CrashLoopBackOff   9 (3m18s ago)   24m</span><br><span class="line"></span><br><span class="line">NAME                 TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)             AGE</span><br><span class="line">service&#x2F;jms          ClusterIP   10.102.217.165   &lt;none&gt;        8161&#x2F;TCP,6161&#x2F;TCP   47s</span><br><span class="line">service&#x2F;kubernetes   ClusterIP   10.96.0.1        &lt;none&gt;        443&#x2F;TCP             16d</span><br><span class="line">service&#x2F;mysql        ClusterIP   10.100.88.211    &lt;none&gt;        3306&#x2F;TCP            17m</span><br><span class="line"></span><br><span class="line">NAME                    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">deployment.apps&#x2F;jms     1&#x2F;1     1            1           7m37s</span><br><span class="line">deployment.apps&#x2F;mysql   0&#x2F;1     1            0           24m</span><br><span class="line"></span><br><span class="line">NAME                               DESIRED   CURRENT   READY   AGE</span><br><span class="line">replicaset.apps&#x2F;jms-5cd9686f76     1         1         1       7m37s</span><br><span class="line">replicaset.apps&#x2F;mysql-74bd96b965   1         1         0       24m</span><br><span class="line"></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE                      COMMAND                  CREATED         STATUS         PORTS     NAMES</span><br><span class="line">6999802c8c0b   vromero&#x2F;activemq-artemis   &quot;&#x2F;docker-entrypoint.…&quot;   8 minutes ago   Up 8 minutes             k8s_activemq-artemis_jms-5cd9686f76-vjrl2_default_ba1c34e2-ff52-41f4-bc63-35022965b6fa_0</span><br></pre></td></tr></table></figure>

<h1 id="OpenShift"><a href="#OpenShift" class="headerlink" title="OpenShift"></a>OpenShift</h1><p><img src="https://i.imgur.com/EvZMCbs.png" alt="img"></p>
<p><a target="_blank" rel="noopener" href="https://developers.redhat.com/courses/explore-openshift/openshift-playground">PlayGround</a></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.redhat.com/zh/topics/containers/what-is-kubernetes">Kube(KBE)</a>: Red Hat贊助學習K8S的社群</li>
</ul>
<p>時程: 2023/2/1- 2023/3/1</p>
<h1 id="RabbitMQ"><a href="#RabbitMQ" class="headerlink" title="RabbitMQ"></a><a href="https://eric999j.github.io/engineer/rabbitMQ">RabbitMQ</a></h1><h1 id="H2-Database"><a href="#H2-Database" class="headerlink" title="H2 Database"></a><a href="https://eric999j.github.io/engineer/h2">H2 Database</a></h1>
<div>
    <hr>
    <p style="margin-bottom: 0;">如果你覺得這篇文章很棒，請你不吝點讚 (ﾟ∀ﾟ)</p>
    <iframe width="100%" height="230px" scrolling="no" frameborder="0" id="player" src="https://button.like.co/in/embed/likerlunski/button/?referrer=<%- post.permalink %>" allowfullscreen="true"></iframe>
</div>
    </div>

    
    
    
        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/AwesomeThings/" rel="tag"><i class="fa fa-tag"></i> 好用</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/manager/solid/" rel="prev" title="SOLID">
      <i class="fa fa-chevron-left"></i> SOLID
    </a></div>
      <div class="post-nav-item">
    <a href="/life/mezesKremes/" rel="next" title="Mézes Krémes">
      Mézes Krémes <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#O"><span class="nav-number">1.</span> <span class="nav-text">O</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#KRs"><span class="nav-number">2.</span> <span class="nav-text">KRs</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Requirements"><span class="nav-number">3.</span> <span class="nav-text">Requirements</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker"><span class="nav-number">4.</span> <span class="nav-text">Docker</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Path-in-Project"><span class="nav-number">4.1.</span> <span class="nav-text">Path in Project</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DockerFile"><span class="nav-number">4.2.</span> <span class="nav-text">DockerFile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bulid-amp-Push-to-DockerHub"><span class="nav-number">4.3.</span> <span class="nav-text">Bulid &amp; Push to DockerHub</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker-compose"><span class="nav-number">4.4.</span> <span class="nav-text">Docker-compose</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Command"><span class="nav-number">4.4.1.</span> <span class="nav-text">Command</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Podman-v-s-Docker"><span class="nav-number">4.5.</span> <span class="nav-text">Podman v.s. Docker</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Kubernetes-K8S"><span class="nav-number">5.</span> <span class="nav-text">Kubernetes(K8S)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Check-status"><span class="nav-number">5.1.</span> <span class="nav-text">Check status</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deployment-amp-Service"><span class="nav-number">5.2.</span> <span class="nav-text">Deployment &amp; Service</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Example"><span class="nav-number">5.2.1.</span> <span class="nav-text">Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Check-services-status"><span class="nav-number">5.2.2.</span> <span class="nav-text">Check services status</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Port-Forwarding"><span class="nav-number">5.3.</span> <span class="nav-text">Port Forwarding</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Delete"><span class="nav-number">5.4.</span> <span class="nav-text">Delete</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mysql"><span class="nav-number">5.5.</span> <span class="nav-text">Mysql</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JMS"><span class="nav-number">5.6.</span> <span class="nav-text">JMS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#OpenShift"><span class="nav-number">6.</span> <span class="nav-text">OpenShift</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#RabbitMQ"><span class="nav-number">7.</span> <span class="nav-text">RabbitMQ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#H2-Database"><span class="nav-number">8.</span> <span class="nav-text">H2 Database</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lunski"
      src="/uploads/lunski.png">
  <p class="site-author-name" itemprop="name">lunski</p>
  <div class="site-description" itemprop="description">あ、どうもはじめまして。盧です。どうぞよろしくお願いします。</div>
</div>


<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">394</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/eric999j" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;eric999j" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:eric999j@gmail.com" title="E-Mail → mailto:eric999j@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/100000185298736" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;100000185298736" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>FB Page</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/shvara" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;shvara" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
      <span class="links-of-author-item">
        <a href="skype:eric999j?call|chat" title="Skype → skype:eric999j?call|chat" rel="noopener" target="_blank"><i class="fab fa-skype fa-fw"></i>Skype</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/%E6%9F%8F%E4%BA%A8%EF%BC%88eric-%E7%9B%A7-792362b9" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;柏亨（eric-盧-792362b9" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-lg fa-fw"></i>Linkedin</a>
      </span>
  </div>



      </div>
    </div>
   </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lunski</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">549k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">8:20</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '282e6ebad41e061ecb0e',
      clientSecret: 'c33b8e01dfddfbc146f2d7baab6a25016e85f303',
      repo        : 'eric999j.github.io',
      owner       : 'eric999j',
      admin       : ['eric999j'],
      id          : '853005b20f58feb0dfb17d0f97556236',
        language: 'zh-TW',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
