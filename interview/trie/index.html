<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"eric999j.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="有序字典樹。">
<meta property="og:type" content="article">
<meta property="og:title" content="Trie">
<meta property="og:url" content="https://eric999j.github.io/interview/trie/index.html">
<meta property="og:site_name" content="Lunski&#39;s Clutter">
<meta property="og:description" content="有序字典樹。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://raw.githubusercontent.com/eric999j/Clutter/master/blog/japan(36).jpeg">
<meta property="article:published_time" content="2022-05-14T12:00:00.000Z">
<meta property="article:modified_time" content="2023-01-02T18:08:53.151Z">
<meta property="article:author" content="lunski">
<meta property="article:tag" content="力扣">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/eric999j/Clutter/master/blog/japan(36).jpeg">

<link rel="canonical" href="https://eric999j.github.io/interview/trie/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-tw'
  };
</script>

  <title>Trie | Lunski's Clutter</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-179395953-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-179395953-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Lunski's Clutter" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Lunski's Clutter</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">This is a place to put my clutters, no matter you like it or not, welcome here.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw">
    <link itemprop="mainEntityOfPage" href="https://eric999j.github.io/interview/trie/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/lunski.png">
      <meta itemprop="name" content="lunski">
      <meta itemprop="description" content="あ、どうもはじめまして。盧です。どうぞよろしくお願いします。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lunski's Clutter">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Trie
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-14 20:00:00" itemprop="dateCreated datePublished" datetime="2022-05-14T20:00:00+08:00">2022-05-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-03 02:08:53" itemprop="dateModified" datetime="2023-01-03T02:08:53+08:00">2023-01-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/interview/" itemprop="url" rel="index"><span itemprop="name">面試</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>5.7k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>5 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="https://raw.githubusercontent.com/eric999j/Clutter/master/blog/japan(36).jpeg"></p>
<blockquote>
<p>有序字典樹。</p>
</blockquote>
<a id="more"></a>

<p>第一層到任意葉節點，都可以成為一個單字。</p>
<h1 id="背景知識"><a href="#背景知識" class="headerlink" title="背景知識"></a>背景知識</h1><p>物件導向</p>
<h1 id="理解問題"><a href="#理解問題" class="headerlink" title="理解問題"></a>理解問題</h1><blockquote>
<p>實做字典樹，包含插入，搜尋，開頭功能。</p>
</blockquote>
<h1 id="思路視覺化"><a href="#思路視覺化" class="headerlink" title="思路視覺化"></a>思路視覺化</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Node:</span><br><span class="line">  def __init__(self):</span><br><span class="line">    self.children &#x3D; &#123;&#125; # Key : letter</span><br><span class="line">    self.end &#x3D; False # finished or not</span><br><span class="line"> class Trie:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.root &#x3D; Node()  </span><br><span class="line"> def insert(self, word):</span><br><span class="line">   逐一加入單字，新的字給一個新節點，移動到下個節點，並標示結尾</span><br><span class="line">  def search(self, word):</span><br><span class="line">    回傳是否有這個字</span><br><span class="line">  def startsWith(self, prefix):  </span><br><span class="line">    回傳字母有無在next    </span><br></pre></td></tr></table></figure>

<h1 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line">class Trie &#123;</span><br><span class="line">    static class Node &#123;</span><br><span class="line">        private Map&lt;Character, Node&gt; children;</span><br><span class="line">        private boolean end;</span><br><span class="line"></span><br><span class="line">        public Node(boolean end) &#123;</span><br><span class="line">            this.end &#x3D; end;</span><br><span class="line">            this.children &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    private Node root;</span><br><span class="line">    public Trie() &#123;</span><br><span class="line">        root &#x3D; new Node(false);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void insert(String word) &#123;</span><br><span class="line">        Node current &#x3D; root;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; word.length(); ++i) &#123;</span><br><span class="line">            char ch &#x3D; word.charAt(i);</span><br><span class="line"></span><br><span class="line">            if (!current.children.containsKey(ch)) &#123;</span><br><span class="line">                current.children.put(ch, new Node(false));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            current &#x3D; current.children.get(ch);</span><br><span class="line">            current.end &#x3D; current.end | (i &#x3D;&#x3D; word.length() - 1); &#x2F;&#x2F; end of word, true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public boolean search(String word) &#123;</span><br><span class="line">        Node current &#x3D; root;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; word.length(); ++i) &#123;</span><br><span class="line">            char ch &#x3D; word.charAt(i);</span><br><span class="line">            current &#x3D; current.children.get(ch);</span><br><span class="line">            if (null &#x3D;&#x3D; current) return false;</span><br><span class="line">        &#125;</span><br><span class="line">        return current.end;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public boolean startsWith(String prefix) &#123;</span><br><span class="line">        Node current &#x3D; root;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; prefix.length(); ++i) &#123;</span><br><span class="line">            char ch &#x3D; prefix.charAt(i);</span><br><span class="line">            current &#x3D; current.children.get(ch);</span><br><span class="line">            if (null &#x3D;&#x3D; current) return false;</span><br><span class="line">        &#125;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Trie trie &#x3D; new Trie();</span><br><span class="line">        trie.insert(&quot;apple&quot;);</span><br><span class="line">        System.out.println(trie.search(&quot;apple&quot;));</span><br><span class="line">        System.out.println(trie.search(&quot;app&quot;));</span><br><span class="line">        System.out.println(trie.startsWith(&quot;app&quot;));</span><br><span class="line">        trie.insert(&quot;app&quot;);</span><br><span class="line">        System.out.println(trie.search(&quot;app&quot;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;</span><br><span class="line">java -cp &#x2F;tmp&#x2F;ZzMu196mR2 Main</span><br><span class="line">true</span><br><span class="line">false</span><br><span class="line">true</span><br><span class="line">true</span><br></pre></td></tr></table></figure>

<h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">class Node:</span><br><span class="line">  def __init__(self):</span><br><span class="line">    self.children &#x3D; &#123;&#125; # Char : Node</span><br><span class="line">    self.end &#x3D; False # finished or not</span><br><span class="line">    </span><br><span class="line">class Trie:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.root &#x3D; Node()</span><br><span class="line"></span><br><span class="line">    def insert(self, word):</span><br><span class="line">        current &#x3D; self.root</span><br><span class="line">        for letter in word:</span><br><span class="line">            if letter not in current.children: # not child</span><br><span class="line">                current.children[letter] &#x3D; Node() # new node</span><br><span class="line">            current &#x3D; current.children[letter] # to child node</span><br><span class="line">        current.end &#x3D; True # leaf</span><br><span class="line"></span><br><span class="line">    def search(self, word):</span><br><span class="line">        current &#x3D; self.root</span><br><span class="line">        for letter in word:</span><br><span class="line">            if letter not in current.children: </span><br><span class="line">                return False # not found</span><br><span class="line">            else:</span><br><span class="line">                current &#x3D; current.children[letter] # to child node</span><br><span class="line">        return current.end # found</span><br><span class="line"></span><br><span class="line">    def startsWith(self, prefix):</span><br><span class="line">        current &#x3D; self.root</span><br><span class="line">        for letter in prefix:</span><br><span class="line">            if letter not in current.children:</span><br><span class="line">                return False # not found</span><br><span class="line">            else:</span><br><span class="line">                current &#x3D; current.children[letter] # to child node</span><br><span class="line">        return True # found</span><br><span class="line"></span><br><span class="line">trie &#x3D; Trie()</span><br><span class="line">trie.insert(&quot;apple&quot;)</span><br><span class="line">print(trie.search(&quot;apple&quot;))</span><br><span class="line">print(trie.search(&quot;app&quot;))</span><br><span class="line">print(trie.startsWith(&#39;app&#39;))</span><br><span class="line">trie.insert(&#39;app&#39;)</span><br><span class="line">print(trie.search(&#39;app&#39;))</span><br><span class="line"></span><br><span class="line">&gt;</span><br><span class="line">True</span><br><span class="line">False</span><br><span class="line">True</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
<h1 id="複雜度分析"><a href="#複雜度分析" class="headerlink" title="複雜度分析"></a>複雜度分析</h1><p>TC:<br>O(n): insert, search, startsWith<br>SC:<br>O(n): insert<br>O(1): search, startsWith  </p>
<h2 id="745-Prefix-and-Suffix-Search"><a href="#745-Prefix-and-Suffix-Search" class="headerlink" title="745. Prefix and Suffix Search"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/prefix-and-suffix-search/">745. Prefix and Suffix Search</a></h2><p>Design a special dictionary that searches the words in it by a prefix and a suffix.</p>
<p>Implement the WordFilter class:</p>
<ul>
<li>WordFilter(string[] words) Initializes the object with the words in the dictionary.</li>
<li>f(string pref, string suff) Returns the index of the word in the dictionary, which has the prefix pref and the suffix suff. If there is more than one valid index, return the largest of them. If there is no such word in the dictionary, return -1.</li>
</ul>
<p>Example 1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">[&quot;WordFilter&quot;, &quot;f&quot;]</span><br><span class="line">[[[&quot;apple&quot;]], [&quot;a&quot;, &quot;e&quot;]]</span><br><span class="line">Output</span><br><span class="line">[null, 0]</span><br><span class="line">Explanation</span><br><span class="line">WordFilter wordFilter &#x3D; new WordFilter([&quot;apple&quot;]);</span><br><span class="line">wordFilter.f(&quot;a&quot;, &quot;e&quot;); &#x2F;&#x2F; return 0, because the word at index 0 has prefix &#x3D; &quot;a&quot; and suffix &#x3D; &quot;e&quot;.</span><br></pre></td></tr></table></figure>

<h3 id="Java-1"><a href="#Java-1" class="headerlink" title="Java"></a>Java</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">TC, SC: O(n*kˆ2)</span><br><span class="line">import java.util.*;</span><br><span class="line">class WordFilter &#123;</span><br><span class="line">    class Trie &#123;</span><br><span class="line">        class TrieNode &#123;</span><br><span class="line">            private TrieNode[] children;</span><br><span class="line">            private List&lt;Integer&gt; indices; &#x2F;&#x2F; index of current word</span><br><span class="line">            public TrieNode() &#123;</span><br><span class="line">                children &#x3D; new TrieNode[26];</span><br><span class="line">                indices &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        private TrieNode root;</span><br><span class="line">        </span><br><span class="line">        public Trie() &#123;</span><br><span class="line">            root &#x3D; new TrieNode();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        public void insert(String word, int i) &#123;</span><br><span class="line">            TrieNode cur &#x3D; root;</span><br><span class="line">            for (char c : word.toCharArray()) &#123;</span><br><span class="line">                int idx &#x3D; c-&#39;a&#39;; &#x2F;&#x2F; minus begin word, get char index</span><br><span class="line">                cur.indices.add(i);</span><br><span class="line">                &#x2F;&#x2F; if no character</span><br><span class="line">                if (cur.children[idx] &#x3D;&#x3D; null) &#123;</span><br><span class="line">                    cur.children[idx] &#x3D; new TrieNode();</span><br><span class="line">                &#125;</span><br><span class="line">                cur &#x3D; cur.children[idx]; &#x2F;&#x2F; to next child</span><br><span class="line">            &#125;</span><br><span class="line">            cur.indices.add(i); &#x2F;&#x2F; add index</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        public List&lt;Integer&gt; find(String prefix) &#123;</span><br><span class="line">            TrieNode cur &#x3D; root;</span><br><span class="line">            for (char c : prefix.toCharArray()) &#123;</span><br><span class="line">                int idx &#x3D; c-&#39;a&#39;;</span><br><span class="line">                if (cur.children[idx] &#x3D;&#x3D; null) return new ArrayList&lt;&gt;();</span><br><span class="line">                cur &#x3D; cur.children[idx];</span><br><span class="line">            &#125;</span><br><span class="line">            return cur.indices;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;   </span><br><span class="line">    private Trie t;</span><br><span class="line">    private String[] words;</span><br><span class="line">    public WordFilter(String[] words) &#123;</span><br><span class="line">        t &#x3D; new Trie();</span><br><span class="line">        this.words &#x3D; words;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; words.length; i++) &#123;</span><br><span class="line">            t.insert(words[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; find word start with prexix and end with suffix, return index</span><br><span class="line">    public int f(String prefix, String suffix) &#123;</span><br><span class="line">        List&lt;Integer&gt; l &#x3D; t.find(prefix);</span><br><span class="line">        for (int i &#x3D; l.size()-1; i &gt;&#x3D; 0; i--) &#123;</span><br><span class="line">            if (words[l.get(i)].endsWith(suffix)) return l.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        String[] str &#x3D; &#123;&quot;apple&quot;&#125;;</span><br><span class="line">        WordFilter wordFilter &#x3D; new WordFilter(str);</span><br><span class="line">        System.out.println(wordFilter.f(&quot;a&quot;, &quot;e&quot;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<div>
    <hr>
    <p style="margin-bottom: 0;">如果你覺得這篇文章很棒，請你不吝點讚 (ﾟ∀ﾟ)</p>
    <iframe width="100%" height="230px" scrolling="no" frameborder="0" id="player" src="https://button.like.co/in/embed/likerlunski/button/?referrer=<%- post.permalink %>" allowfullscreen="true"></iframe>
</div>
    </div>

    
    
    
        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/LeetCode/" rel="tag"><i class="fa fa-tag"></i> 力扣</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/manager/path/" rel="prev" title="八正道（Noble Eightfold Path）">
      <i class="fa fa-chevron-left"></i> 八正道（Noble Eightfold Path）
    </a></div>
      <div class="post-nav-item">
    <a href="/life/love/" rel="next" title="Tyler Shaw - Love You Still">
      Tyler Shaw - Love You Still <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AD%98"><span class="nav-number">1.</span> <span class="nav-text">背景知識</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%90%86%E8%A7%A3%E5%95%8F%E9%A1%8C"><span class="nav-number">2.</span> <span class="nav-text">理解問題</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%9D%E8%B7%AF%E8%A6%96%E8%A6%BA%E5%8C%96"><span class="nav-number">3.</span> <span class="nav-text">思路視覺化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Java"><span class="nav-number">4.</span> <span class="nav-text">Java</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Python"><span class="nav-number">5.</span> <span class="nav-text">Python</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A4%87%E9%9B%9C%E5%BA%A6%E5%88%86%E6%9E%90"><span class="nav-number">6.</span> <span class="nav-text">複雜度分析</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#745-Prefix-and-Suffix-Search"><span class="nav-number">6.1.</span> <span class="nav-text">745. Prefix and Suffix Search</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Java-1"><span class="nav-number">6.1.1.</span> <span class="nav-text">Java</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lunski"
      src="/uploads/lunski.png">
  <p class="site-author-name" itemprop="name">lunski</p>
  <div class="site-description" itemprop="description">あ、どうもはじめまして。盧です。どうぞよろしくお願いします。</div>
</div>


<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">300</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/eric999j" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;eric999j" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:eric999j@gmail.com" title="E-Mail → mailto:eric999j@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/100000185298736" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;100000185298736" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>FB Page</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/shvara" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;shvara" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
      <span class="links-of-author-item">
        <a href="skype:eric999j?call|chat" title="Skype → skype:eric999j?call|chat" rel="noopener" target="_blank"><i class="fab fa-skype fa-fw"></i>Skype</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/%E6%9F%8F%E4%BA%A8%EF%BC%88eric-%E7%9B%A7-792362b9" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;柏亨（eric-盧-792362b9" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-lg fa-fw"></i>Linkedin</a>
      </span>
  </div>



      </div>
    </div>
   </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lunski</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">423k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">6:24</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '282e6ebad41e061ecb0e',
      clientSecret: 'c33b8e01dfddfbc146f2d7baab6a25016e85f303',
      repo        : 'eric999j.github.io',
      owner       : 'eric999j',
      admin       : ['eric999j'],
      id          : 'ec5eb9469dafd3046cc9169ce9104b55',
        language: 'zh-TW',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
